<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Recast/Detour: Crowd Management</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Recast/Detour
   &#160;<span id="projectnumber">2.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__crowd.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Crowd Management</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<p>This module is about handling multiple agents. </p>
<p><code><a class="el" href="classdtCrowd.html" title="Class containing and handling the agents of the simulation.">dtCrowd</a></code> is the class representing a crowd.</p>
<p>A crowd handles every agent it contains. You can think of it as a big container for agents.</p>
<p>You can see <code><a class="el" href="classdtCrowd.html" title="Class containing and handling the agents of the simulation.">dtCrowd</a></code> as an interface between you and the agents it contains. You cannot modify the agents inside the crowd directly, the interface will only grant you a constant access to the data.</p>
<p>Through <code><a class="el" href="classdtCrowd.html" title="Class containing and handling the agents of the simulation.">dtCrowd</a></code> you can do several things:</p>
<ul>
<li>Have constant access to the agents</li>
<li>Have access to the data the crowd uses to update the agents (navigation mesh, proximity grid, environment, etc.)</li>
<li>Add / Remove / Edit agents inside the crowd via some specific methods</li>
<li>Update the crowd. This will update every agents using their behaviors. When updating an agent you can update its position, velocity, environment or all of those.</li>
</ul>
<h1>How to create a crowd</h1>
<p>Here is a sample code for creating a crowd:</p>
<div class="fragment"><div class="line"><span class="comment">// Creation of the crowd.</span></div>
<div class="line"><a class="code" href="classdtCrowd.html" title="Class containing and handling the agents of the simulation.">dtCrowd</a> crowd;</div>
<div class="line"><span class="comment">// How many agents can the crowd contain?</span></div>
<div class="line"><span class="keywordtype">int</span> nbMaxAgents = 1000;</div>
<div class="line"><span class="comment">// The maximum radius for an agent</span></div>
<div class="line"><span class="keywordtype">float</span> maxRadius = 10.f;</div>
<div class="line"><span class="comment">// How close should an element be before being considered as an obstacle?</span></div>
<div class="line"><span class="keywordtype">float</span> collisionRange = 4.f;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Note: the navigation mesh must already be initialized</span></div>
<div class="line"><span class="comment">// The navigation mesh will be used by the agents for navigation</span></div>
<div class="line">crowd.<a class="code" href="classdtCrowd.html#add857b7f0d143740b4a93c723d996e47" title="Initializes the crowd.">init</a>(nbMaxAgents, mawRadius, navigationMesh, collisionRange);</div>
</div><!-- fragment --><p>You now have a crowd ready to work, but empty...</p>
<h1>Agents</h1>
<p><code><a class="el" href="structdtCrowdAgent.html" title="Represents an agent managed by a dtCrowd object.">dtCrowdAgent</a></code> is the class representing an agent.</p>
<p>An agent is an entity inside a crowd with several properties. The most important of these is the <code><a class="el" href="structdtCrowdAgent.html#abd78abb701ad388cb031953388b414ba" title="Unique identifier of the agent.">dtCrowdAgent::id</a></code> property.</p>
<dl class="section warning"><dt>Warning</dt><dd>Each agent is identified by its id, and the crowd handles its agents using these ids. Therefore the user <b>should not</b> modify the id of an agent by himself. The ids are generated by crowd and are unique.</dd></dl>
<h1>Add an agent to the crowd</h1>
<p>When you create a crowd, you create the agents at the same time. Indeed the crowd will create N agents, N being the maximum of agents you specified when creating the crowd, and set them as inactive. If inactive, an agent won't be taken into account during the process of updating the crowd.</p>
<p>Here is how you can toggle an agent as active/inactive:</p>
<div class="fragment"><div class="line"><span class="comment">// The position you want to place your agent at</span></div>
<div class="line"><span class="keywordtype">float</span> position[] = {0, 0, 0};</div>
<div class="line"><a class="code" href="structdtCrowdAgent.html" title="Represents an agent managed by a dtCrowd object.">dtCrowdAgent</a> agent;</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span> (crowd.<a class="code" href="classdtCrowd.html#a271954eb58f8ecb86f14cfcec790e669" title="Adds a new agent to the crowd.">addAgent</a>(agent, position) == <span class="keyword">false</span>)</div>
<div class="line">    <span class="comment">// Error The agent could not be added to the crowd</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// At this point, agent has been added and set as active. Its data (and id) have been updated.</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// You can also remove the agent from the crowd, which will set him as inactive</span></div>
<div class="line">crowd.<a class="code" href="classdtCrowd.html#adef40afb1b60c660dff07e3c481acbfc" title="Removes the agent of the given id from the crowd.">removeAgent</a>(ag.id);</div>
</div><!-- fragment --><p>With the method <code><a class="el" href="classdtCrowd.html#a271954eb58f8ecb86f14cfcec790e669" title="Adds a new agent to the crowd.">dtCrowd::addAgent()</a></code> we can toggle an agent as active an place it at a specific point on the navigation mesh. The method will copy the data of the newly created agent into the agent structure you provided. You can use the id of the agent later on to get access to it thanks to the method <code><a class="el" href="classdtCrowd.html#ab7042f3ef197b308a416df3d67ee2d1c" title="Gets a const access to the specified agent from the pool.">dtCrowd::getAgent()</a></code>.</p>
<p>Your crowd now contains one agent.</p>
<h1>Access and edit existing agents</h1>
<p><code><a class="el" href="classdtCrowd.html" title="Class containing and handling the agents of the simulation.">dtCrowd</a></code> does not allow you to directly edit the agents. You need to get a copy of the agent, edit it, then send the modifications to the crowd. In any case, you will need the id of an agent in order to retrieve it.</p>
<p>Here is a code illustrating the different ways to access agents:</p>
<div class="fragment"><div class="line"><span class="comment">// You can get a const access to an agent with its id</span></div>
<div class="line"><span class="keyword">const</span> <a class="code" href="structdtCrowdAgent.html" title="Represents an agent managed by a dtCrowd object.">dtCrowdAgent</a>* ag = crowd.<a class="code" href="classdtCrowd.html#ab7042f3ef197b308a416df3d67ee2d1c" title="Gets a const access to the specified agent from the pool.">getAgent</a>(<span class="keywordtype">id</span>);</div>
<div class="line"></div>
<div class="line"><span class="comment">// You can fetch an agent and copy the data into another agent</span></div>
<div class="line"><a class="code" href="structdtCrowdAgent.html" title="Represents an agent managed by a dtCrowd object.">dtCrowdAgent</a> myAgent;</div>
<div class="line">crowd.<a class="code" href="classdtCrowd.html#a2fbaa8319b5b642ba276fe97bf4c55fc" title="Gets the specified agent from the pool.">fetchAgent</a>(myAgent, <span class="keywordtype">id</span>);</div>
<div class="line"></div>
<div class="line"><span class="comment">// You can also get several agents at the same time</span></div>
<div class="line"><span class="keywordtype">int</span> ids[] = {1, 2, 3, 6};</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="structdtCrowdAgent.html" title="Represents an agent managed by a dtCrowd object.">dtCrowdAgent</a>* agents[4];</div>
<div class="line"><span class="keywordtype">int</span> nbAgentsFound = crowd.<a class="code" href="classdtCrowd.html#af4771d82ee754dc321371aa1e3cf7e70" title="Gets the agents matching the given ids.">getAgents</a>(ids, 4, agents);</div>
</div><!-- fragment --><p>Now that you have accessed your agent, you might want to modify some of its properties, and then send the changes to the crowd, here is how this can be acheived:</p>
<div class="fragment"><div class="line"><span class="comment">// Fetch the agent you want to edit</span></div>
<div class="line"><a class="code" href="structdtCrowdAgent.html" title="Represents an agent managed by a dtCrowd object.">dtCrowdAgent</a> ag;</div>
<div class="line">crowd.<a class="code" href="classdtCrowd.html#a2fbaa8319b5b642ba276fe97bf4c55fc" title="Gets the specified agent from the pool.">fetchAgent</a>(ag, <span class="keywordtype">id</span>); <span class="comment">// The data have been copied into ag (including the id)</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Edit the properties</span></div>
<div class="line">ag.<a class="code" href="structdtCrowdAgent.html#a789774438140c8d0460bd4d385716c80" title="Maximum allowed speed. [Limit: &gt;= 0].">maxSpeed</a> *= 2;</div>
<div class="line">ag.<a class="code" href="structdtCrowdAgent.html#a9f709ffc8ca4ecf987fab16c5ace30f5" title="Agent radius. [Limit: &gt;= 0].">radius</a> = 10;</div>
<div class="line">ag.<a class="code" href="structdtCrowdAgent.html#ac6b65e4a21fd0b465938b902fb3490ad" title="Agent height. [Limit: &gt; 0].">height</a> = 500;</div>
<div class="line"><span class="comment">// ...</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// You can now send the changes to the crowd</span></div>
<div class="line">crowd.<a class="code" href="classdtCrowd.html#a668bdfce5339359c158ac3875a24826b" title="Copies the data of the given agent into its equivalent in the crowd In order to know which agent must...">applyAgent</a>(ag);</div>
</div><!-- fragment --><dl class="section warning"><dt>Warning</dt><dd><code><a class="el" href="classdtCrowd.html" title="Class containing and handling the agents of the simulation.">dtCrowd</a></code> uses the id when looking for and editing an agent, therefore be careful not the change the id property of an agent, otherwise the crowd might not update the right agent.</dd></dl>
<h1>Update the crowd</h1>
<p>When you update the crowd, by default, all the active agents inside this crowd will be updated. But maybe you just want some of them to be updated. This can be done by providing a list of agents' ids.</p>
<dl class="section note"><dt>Note</dt><dd>When updating the agents, the crowd will use the behaviors assigned to them. See the <a class="el" href="group__behavior.html">Behaviors</a> module for more details.</dd></dl>
<div class="fragment"><div class="line"><span class="keywordtype">float</span> position1[] = {0, 0, 0};</div>
<div class="line"><span class="keywordtype">float</span> position2[] = {1, 0, 1};</div>
<div class="line"><span class="keywordtype">float</span> position3[] = {2, 0, 2};</div>
<div class="line"></div>
<div class="line"><a class="code" href="structdtCrowdAgent.html" title="Represents an agent managed by a dtCrowd object.">dtCrowdAgent</a> ag1, ag2, ag3;</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span> (!crowd.<a class="code" href="classdtCrowd.html#a271954eb58f8ecb86f14cfcec790e669" title="Adds a new agent to the crowd.">addAgent</a>(ag1, position1) || !crowd.<a class="code" href="classdtCrowd.html#a271954eb58f8ecb86f14cfcec790e669" title="Adds a new agent to the crowd.">addAgent</a>(ag2, position2) || !crowd.<a class="code" href="classdtCrowd.html#a271954eb58f8ecb86f14cfcec790e669" title="Adds a new agent to the crowd.">addAgent</a>(ag3, position3))</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"></div>
<div class="line"><span class="comment">// ...</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Updates every active agents inside the crowd.</span></div>
<div class="line">crowd.<a class="code" href="classdtCrowd.html#a19fdb802fa014ecf42320b230d89221c" title="Updates the steering and positions of the agents whose indices may be given by the user...">update</a>(dt); <span class="comment">// dt is the delta time to update the simulation.</span></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> list[2];</div>
<div class="line">list[0] = ag2.<a class="code" href="structdtCrowdAgent.html#abd78abb701ad388cb031953388b414ba" title="Unique identifier of the agent.">id</a>;</div>
<div class="line">list[1] = ag3.<a class="code" href="structdtCrowdAgent.html#abd78abb701ad388cb031953388b414ba" title="Unique identifier of the agent.">id</a>;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Just the agents 2 and 3 will be updated.</span></div>
<div class="line">crowd.<a class="code" href="classdtCrowd.html#a19fdb802fa014ecf42320b230d89221c" title="Updates the steering and positions of the agents whose indices may be given by the user...">update</a>(dt, list, 2);</div>
<div class="line"></div>
<div class="line"><span class="comment">// Just the agent corresponding to index2 will be updated (since we say the list has a size of 1).</span></div>
<div class="line">crowd.<a class="code" href="classdtCrowd.html#a19fdb802fa014ecf42320b230d89221c" title="Updates the steering and positions of the agents whose indices may be given by the user...">update</a>(dt, list, 1);</div>
</div><!-- fragment --><p>Crowds updating is a three parts process, for each agent we do the following:</p>
<ul>
<li><b>Updating the environment:</b> Updates the proximity grid and registers every agent's neighbor. This will take into account things like other agents, boundaries, obstacles, etc. The range of the environment depends on the agent's property <code>dtCrowd::collisionQueryRange</code>.</li>
<li><b>Updating the velocity:</b> Updates the velocity of the agent. This uses the behaviors assigned to the agent. These behaviors will compute a new velocity for the agent.</li>
<li><b>Updating the position:</b> Updates the position of the agent using the previously computed velocity.</li>
</ul>
<p>The calls order should be this:</p>
<ul>
<li>Update the environment so the agent knows what is around him,</li>
<li>Update the velocity using a behavior,</li>
<li>Update the position using the new velocity.</li>
</ul>
<p>You can individually call these updates using the following methods:</p>
<ul>
<li><code><a class="el" href="classdtCrowd.html#ace570f2fba8fef9223b890b0602a288e" title="Updates the environment of the given agents.">dtCrowd::updateEnvironment()</a></code></li>
<li><code><a class="el" href="classdtCrowd.html#a7f7e3eff82fd4fb54640d06e6cda6fde" title="Updates the velocity of the agents whose indices may be given by the user (but not their position)...">dtCrowd::updateVelocity()</a></code></li>
<li><code><a class="el" href="classdtCrowd.html#a2b11d6f7972568548bdb6a9445f4e689" title="Updates the positions of the agents whose indices may be given by the user (but not their velocity)...">dtCrowd::updatePosition()</a></code></li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Calling the method <code><a class="el" href="classdtCrowd.html#a19fdb802fa014ecf42320b230d89221c" title="Updates the steering and positions of the agents whose indices may be given by the user...">dtCrowd::update()</a></code> will call all three methods listed above.</dd></dl>
<h1>Other features</h1>
<h2>Change the position of an agent</h2>
<p>Of course the position of an agent will be updated trough its behavior(s), but sometimes you might want to set your agent at a given position instantly, without the constraints of a behavior (for instance your agent have walked on a teleporter). This can be done using the <code><a class="el" href="classdtCrowd.html#a2213cfa93d35adfe5d2b6a2c8159f41f" title="Moves the agent to the given position if possible.">dtCrowd::updateAgentPosition()</a></code> method:</p>
<div class="fragment"><div class="line"><span class="keywordtype">float</span> newPosition[] = {10, 0, 0};</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span> (crowd.<a class="code" href="classdtCrowd.html#a2213cfa93d35adfe5d2b6a2c8159f41f" title="Moves the agent to the given position if possible.">updateAgentPosition</a>(agentId, newPosition))</div>
<div class="line">    <span class="comment">// Done, your agent has moved</span></div>
<div class="line"><span class="keywordflow">else</span></div>
<div class="line">    <span class="comment">// Something went wrong, either the position is invalid or the given id was out of bounds</span></div>
</div><!-- fragment --><h2>Access the environment of an agent</h2>
<p>The environment of an agent contains many informations that can be useful for some behavior (for instance it is used by the behavior <code><a class="el" href="classdtCollisionAvoidance.html" title="Defines a behavior for collision avoidance.">dtCollisionAvoidance</a></code>).</p>
<p>You can retreive the environment of an agent by using the method <code><a class="el" href="classdtCrowd.html#aeec25923d4688c88b0249f1dc22dacf1" title="Gets the environment of the given agent.">dtCrowd::getAgentEnvironment</a></code>.</p>
<h2>The Crowd Query</h2>
<p><code><a class="el" href="classdtCrowdQuery.html" title="Utility class used to get access to some useful elements of the crowd.">dtCrowdQuery</a></code> contains informations that <code><a class="el" href="classdtCrowd.html" title="Class containing and handling the agents of the simulation.">dtCrowd</a></code> uses and that might be useful for the user. It contains things like the proximity grid, the animations of the agents, the <code><a class="el" href="classdtNavMeshQuery.html" title="Provides the ability to perform pathfinding related queries against a navigation mesh.">dtNavMeshQuery</a></code>, etc.</p>
<p>Since it might often be useful, <code><a class="el" href="classdtCrowd.html" title="Class containing and handling the agents of the simulation.">dtCrowd</a></code> provides an easy access via the method <code><a class="el" href="classdtCrowd.html#af2c614b5a67c8f60670be31efcd04483">dtCrowd::getCrowdQuery()</a></code>. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdtCrowdNeighbour.html">dtCrowdNeighbour</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides neighbor data for agents managed by the crowd.  <a href="structdtCrowdNeighbour.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdtCrowdAgentEnvironment.html">dtCrowdAgentEnvironment</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The environment of an agent.  <a href="structdtCrowdAgentEnvironment.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdtCrowdAgent.html">dtCrowdAgent</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents an agent managed by a <a class="el" href="classdtCrowd.html" title="Class containing and handling the agents of the simulation.">dtCrowd</a> object.  <a href="structdtCrowdAgent.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdtCrowdQuery.html">dtCrowdQuery</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility class used to get access to some useful elements of the crowd.  <a href="classdtCrowdQuery.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdtCrowd.html">dtCrowd</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class containing and handling the agents of the simulation.  <a href="classdtCrowd.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga59bc9aa54705292d8f0f1ad9ca48ca82"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__crowd.html#ga59bc9aa54705292d8f0f1ad9ca48ca82">CrowdAgentState</a> { <a class="el" href="group__crowd.html#gga59bc9aa54705292d8f0f1ad9ca48ca82ac2abcf7abcdba5abeda5801fc771baa8">DT_CROWDAGENT_STATE_INVALID</a>, 
<a class="el" href="group__crowd.html#gga59bc9aa54705292d8f0f1ad9ca48ca82ab165ebb808ee9390c7f7ec9f5ea277ec">DT_CROWDAGENT_STATE_WALKING</a>, 
<a class="el" href="group__crowd.html#gga59bc9aa54705292d8f0f1ad9ca48ca82a4194d4934f447526177f505e93c96fec">DT_CROWDAGENT_STATE_OFFMESH</a>
 }</td></tr>
<tr class="memdesc:ga59bc9aa54705292d8f0f1ad9ca48ca82"><td class="mdescLeft">&#160;</td><td class="mdescRight">The type of navigation mesh polygon the agent is currently traversing.  <a href="group__crowd.html#ga59bc9aa54705292d8f0f1ad9ca48ca82">More...</a><br/></td></tr>
<tr class="separator:ga59bc9aa54705292d8f0f1ad9ca48ca82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa94b67d2fdcc390690c523f28019e52f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__crowd.html#gaa94b67d2fdcc390690c523f28019e52f">UpdateFlags</a> { <br/>
&#160;&#160;<a class="el" href="group__crowd.html#ggaa94b67d2fdcc390690c523f28019e52fafeecd3363350e50041dca39352c3e268">DT_CROWD_ANTICIPATE_TURNS</a> = 1, 
<a class="el" href="group__crowd.html#ggaa94b67d2fdcc390690c523f28019e52fad5d5d50e0b623e78e0dd68eb816bcc00">DT_CROWD_OBSTACLE_AVOIDANCE</a> = 2, 
<a class="el" href="group__crowd.html#ggaa94b67d2fdcc390690c523f28019e52fa07d463e4e35cd6ca1f16e6bede02856e">DT_CROWD_SEPARATION</a> = 4, 
<a class="el" href="group__crowd.html#ggaa94b67d2fdcc390690c523f28019e52fad11f447facf1bf42c09de64e9483f3aa">DT_CROWD_OPTIMIZE_VIS</a> = 8, 
<br/>
&#160;&#160;<a class="el" href="group__crowd.html#ggaa94b67d2fdcc390690c523f28019e52fa89c6f7f2e49254e775cb2b85259a0a93">DT_CROWD_OPTIMIZE_TOPO</a> = 16
<br/>
 }</td></tr>
<tr class="memdesc:gaa94b67d2fdcc390690c523f28019e52f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Crowd agent update flags.  <a href="group__crowd.html#gaa94b67d2fdcc390690c523f28019e52f">More...</a><br/></td></tr>
<tr class="separator:gaa94b67d2fdcc390690c523f28019e52f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga01a53c9d76d1b61678ab1944dfbfac55"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdtCrowd.html">dtCrowd</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__crowd.html#ga01a53c9d76d1b61678ab1944dfbfac55">dtAllocCrowd</a> ()</td></tr>
<tr class="memdesc:ga01a53c9d76d1b61678ab1944dfbfac55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates a crowd object using the Detour allocator.  <a href="#ga01a53c9d76d1b61678ab1944dfbfac55"></a><br/></td></tr>
<tr class="separator:ga01a53c9d76d1b61678ab1944dfbfac55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9475313642645070e78c359e0fc02b7a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__crowd.html#ga9475313642645070e78c359e0fc02b7a">dtFreeCrowd</a> (<a class="el" href="classdtCrowd.html">dtCrowd</a> *ptr)</td></tr>
<tr class="memdesc:ga9475313642645070e78c359e0fc02b7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees the specified crowd object using the Detour allocator.  <a href="#ga9475313642645070e78c359e0fc02b7a"></a><br/></td></tr>
<tr class="separator:ga9475313642645070e78c359e0fc02b7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga70106a906d993ec6c39ef91d81c0f40e"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__crowd.html#ga70106a906d993ec6c39ef91d81c0f40e">DT_CROWDAGENT_MAX_NEIGHBOURS</a> = 6</td></tr>
<tr class="memdesc:ga70106a906d993ec6c39ef91d81c0f40e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum number of neighbors that a crowd agent can take into account for steering decisions.  <a href="#ga70106a906d993ec6c39ef91d81c0f40e"></a><br/></td></tr>
<tr class="separator:ga70106a906d993ec6c39ef91d81c0f40e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga59bc9aa54705292d8f0f1ad9ca48ca82"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__crowd.html#ga59bc9aa54705292d8f0f1ad9ca48ca82">CrowdAgentState</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The type of navigation mesh polygon the agent is currently traversing. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="gga59bc9aa54705292d8f0f1ad9ca48ca82ac2abcf7abcdba5abeda5801fc771baa8"></a>DT_CROWDAGENT_STATE_INVALID</em>&nbsp;</td><td>
<p>The agent is not in a valid state. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga59bc9aa54705292d8f0f1ad9ca48ca82ab165ebb808ee9390c7f7ec9f5ea277ec"></a>DT_CROWDAGENT_STATE_WALKING</em>&nbsp;</td><td>
<p>The agent is traversing a normal navigation mesh polygon. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga59bc9aa54705292d8f0f1ad9ca48ca82a4194d4934f447526177f505e93c96fec"></a>DT_CROWDAGENT_STATE_OFFMESH</em>&nbsp;</td><td>
<p>The agent is traversing an off-mesh connection. </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<a class="anchor" id="gaa94b67d2fdcc390690c523f28019e52f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__crowd.html#gaa94b67d2fdcc390690c523f28019e52f">UpdateFlags</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Crowd agent update flags. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="structdtCrowdAgent.html#a7c1fb4ad4f83448bf83d2ff1e816788e" title="Flags that impact steering behavior. (See: UpdateFlags)">dtCrowdAgent::updateFlags</a> </dd></dl>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ggaa94b67d2fdcc390690c523f28019e52fafeecd3363350e50041dca39352c3e268"></a>DT_CROWD_ANTICIPATE_TURNS</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaa94b67d2fdcc390690c523f28019e52fad5d5d50e0b623e78e0dd68eb816bcc00"></a>DT_CROWD_OBSTACLE_AVOIDANCE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaa94b67d2fdcc390690c523f28019e52fa07d463e4e35cd6ca1f16e6bede02856e"></a>DT_CROWD_SEPARATION</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaa94b67d2fdcc390690c523f28019e52fad11f447facf1bf42c09de64e9483f3aa"></a>DT_CROWD_OPTIMIZE_VIS</em>&nbsp;</td><td>
<p>Use <a class="el" href="classdtPathCorridor.html#af9e43f83012017d3fcbf0e1671882f1a" title="Attempts to optimize the path if the specified point is visible from the current position.">dtPathCorridor::optimizePathVisibility()</a> to optimize the agent path. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaa94b67d2fdcc390690c523f28019e52fa89c6f7f2e49254e775cb2b85259a0a93"></a>DT_CROWD_OPTIMIZE_TOPO</em>&nbsp;</td><td>
<p>Use <a class="el" href="classdtPathCorridor.html#a69288d28ab5d23b2c2654e45c5a33c25" title="Attempts to optimize the path using a local area search.">dtPathCorridor::optimizePathTopology()</a> to optimize the agent path. </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga01a53c9d76d1b61678ab1944dfbfac55"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdtCrowd.html">dtCrowd</a>* dtAllocCrowd </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocates a crowd object using the Detour allocator. </p>
<dl class="section return"><dt>Returns</dt><dd>A crowd object that is ready for initialization, or null on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="ga9475313642645070e78c359e0fc02b7a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dtFreeCrowd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdtCrowd.html">dtCrowd</a> *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees the specified crowd object using the Detour allocator. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ptr</td><td>A crowd object allocated using <a class="el" href="group__crowd.html#ga01a53c9d76d1b61678ab1944dfbfac55" title="Allocates a crowd object using the Detour allocator.">dtAllocCrowd</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ga70106a906d993ec6c39ef91d81c0f40e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int DT_CROWDAGENT_MAX_NEIGHBOURS = 6</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The maximum number of neighbors that a crowd agent can take into account for steering decisions. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->

    <li class="footer">
      <a href="http://masagroup.github.io/recastdetour/">Home</a> 
      | <a href="https://github.com/masagroup/recastdetour"> Sources</a>
      | <a href="./License.html"> License</a>
	</li>
   </ul>
 </div>
</body>
</html>
